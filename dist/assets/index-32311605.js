var fs=Object.defineProperty;var cs=(l,e,t)=>e in l?fs(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var ae=(l,e,t)=>(cs(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();function de(){}function Fl(l){return l()}function gl(){return Object.create(null)}function Ce(l){l.forEach(Fl)}function jl(l){return typeof l=="function"}function nt(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let Vt;function _e(l,e){return Vt||(Vt=document.createElement("a")),Vt.href=e,l===Vt.href}function ds(l){return Object.keys(l).length===0}function i(l,e){l.appendChild(e)}function z(l,e,t){l.insertBefore(e,t||null)}function B(l){l.parentNode&&l.parentNode.removeChild(l)}function Tt(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function u(l){return document.createElement(l)}function H(l){return document.createTextNode(l)}function b(){return H(" ")}function kt(){return H("")}function O(l,e,t,s){return l.addEventListener(e,t,s),()=>l.removeEventListener(e,t,s)}function o(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function ll(l){return l===""?null:+l}function hs(l){return Array.from(l.childNodes)}function te(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function ze(l,e){l.value=e??""}function Wt(l,e,t,s){t===null?l.style.removeProperty(e):l.style.setProperty(e,t,s?"important":"")}function ms(l,e,{bubbles:t=!1,cancelable:s=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(l,t,s,e),n}let xt;function Ot(l){xt=l}function sl(){if(!xt)throw new Error("Function called outside component initialization");return xt}function nl(l){sl().$$.on_mount.push(l)}function ps(l){sl().$$.after_update.push(l)}function At(){const l=sl();return(e,t,{cancelable:s=!1}={})=>{const n=l.$$.callbacks[e];if(n){const r=ms(e,t,{cancelable:s});return n.slice().forEach(a=>{a.call(l,r)}),!r.defaultPrevented}return!0}}const yt=[],Be=[],Dt=[],Qt=[],gs=Promise.resolve();let $t=!1;function bs(){$t||($t=!0,gs.then(Yl))}function el(l){Dt.push(l)}function bl(l){Qt.push(l)}const Jt=new Set;let _t=0;function Yl(){if(_t!==0)return;const l=xt;do{try{for(;_t<yt.length;){const e=yt[_t];_t++,Ot(e),vs(e.$$)}}catch(e){throw yt.length=0,_t=0,e}for(Ot(null),yt.length=0,_t=0;Be.length;)Be.pop()();for(let e=0;e<Dt.length;e+=1){const t=Dt[e];Jt.has(t)||(Jt.add(t),t())}Dt.length=0}while(yt.length);for(;Qt.length;)Qt.pop()();$t=!1,Jt.clear(),Ot(l)}function vs(l){if(l.fragment!==null){l.update(),Ce(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(el)}}const Ht=new Set;let ht;function il(){ht={r:0,c:[],p:ht}}function rl(){ht.r||Ce(ht.c),ht=ht.p}function ce(l,e){l&&l.i&&(Ht.delete(l),l.i(e))}function qe(l,e,t,s){if(l&&l.o){if(Ht.has(l))return;Ht.add(l),ht.c.push(()=>{Ht.delete(l),s&&(t&&l.d(1),s())}),l.o(e)}else s&&s()}function vl(l,e,t){const s=l.$$.props[e];s!==void 0&&(l.$$.bound[s]=t,t(l.$$.ctx[s]))}function lt(l){l&&l.c()}function Ke(l,e,t,s){const{fragment:n,after_update:r}=l.$$;n&&n.m(e,t),s||el(()=>{const a=l.$$.on_mount.map(Fl).filter(jl);l.$$.on_destroy?l.$$.on_destroy.push(...a):Ce(a),l.$$.on_mount=[]}),r.forEach(el)}function Je(l,e){const t=l.$$;t.fragment!==null&&(Ce(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function _s(l,e){l.$$.dirty[0]===-1&&(yt.push(l),bs(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function it(l,e,t,s,n,r,a,g=[-1]){const d=xt;Ot(l);const c=l.$$={fragment:null,ctx:[],props:r,update:de,not_equal:n,bound:gl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:gl(),dirty:g,skip_bound:!1,root:e.target||d.$$.root};a&&a(c.root);let v=!1;if(c.ctx=t?t(l,e.props||{},(h,S,..._)=>{const y=_.length?_[0]:S;return c.ctx&&n(c.ctx[h],c.ctx[h]=y)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](y),v&&_s(l,h)),S}):[],c.update(),v=!0,Ce(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const h=hs(e.target);c.fragment&&c.fragment.l(h),h.forEach(B)}else c.fragment&&c.fragment.c();e.intro&&ce(l.$$.fragment),Ke(l,e.target,e.anchor,e.customElement),Yl()}Ot(d)}class rt{$destroy(){Je(this,1),this.$destroy=de}$on(e,t){if(!jl(t))return de;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const n=s.indexOf(t);n!==-1&&s.splice(n,1)}}$set(e){this.$$set&&!ds(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function f(l,e,t,s,n,r=!1,a=0){return{symbol:l,longNameSingular:e,longNamePlural:t,factor:s,dim:n,applySIPrefixes:r,iofs:a}}const he=[0,273.15,255.37222222222223,273.15,255.37222222222223],ue=[f("K","kelvin","kelvin",1,[0,0,0,1,0,0],!0,0),f("degC","degreeC","degreesC",1,[0,0,0,1,0,0],!1,1),f("degF","degreeF","degreesF",.5555555555555556,[0,0,0,1,0,0],!1,2),f("degc","degreeC","degreesC",1,[0,0,0,1,0,0],!1,3),f("degf","degreeF","degreesF",.5555555555555556,[0,0,0,1,0,0],!1,4),f("g","gram","grams",.001,[1,0,0,0,0,0],!0),f("rd","radian","radians",1,[0,0,0,0,0,0],!1),f("deg","degree","degrees",.017453292519943295,[0,0,0,0,0,0],!1),f("grad","gradians","gradians",.015707963267948967,[0,0,0,0,0,0],!1),f("rev","revolution","revolutions",6.283185307179586,[0,0,0,0,0,0],!1),f("pi","pi","pi",3.141592653589793,[0,0,0,0,0,0],!1),f("tau","tau","tau",6.283185307179586,[0,0,0,0,0,0],!1),f("e","e","e",2.718281828459045,[0,0,0,0,0,0],!1),f("mol","mole","moles",60221415e16,[0,0,0,0,0,0],!0),f("amu","atomic_mass_unit","atomic_mass_units",1660539e-33,[1,0,0,0,0,0],!1),f("carat","carat","carats",2e-4,[1,0,0,0,0,0],!1),f("dram","dram","drams",.001771845,[1,0,0,0,0,0],!1),f("hundredweight","hundredweight","hundredweights",45.35924,[1,0,0,0,0,0],!1),f("longton","longton","longtons",1016.05,[1,0,0,0,0,0],!1),f("long_ton","long_ton","long_tons",1016.05,[1,0,0,0,0,0],!1),f("t","metric_ton","metric_tons",1e3,[1,0,0,0,0,0],!1),f("oz","ounce","ounces",.02834952,[1,0,0,0,0,0],!1),f("lbs_mass","pound_mass","lbs_mass",.4535924,[1,0,0,0,0,0],!1),f("lb_mass","pound_mass","pounds_mass",.4535924,[1,0,0,0,0,0],!1),f("lb","pound","pounds",.4535924,[1,0,0,0,0,0],!1),f("lbs","pound","pounds",.4535924,[1,0,0,0,0,0],!1),f("shortton","shortton","shorttons",907.185,[1,0,0,0,0,0],!1),f("short_ton","short_ton","short_tons",907.185,[1,0,0,0,0,0],!1),f("slug","slug","slugs",14.5939,[1,0,0,0,0,0],!1),f("stick","stick","sticks",.115,[1,0,0,0,0,0],!1),f("stone","stone","stones",6.350293,[1,0,0,0,0,0],!1),f("tola","tola","tolas",.0116638,[1,0,0,0,0,0],!1),f("ton","ton","tons",907.1847,[1,0,0,0,0,0],!1),f("ozt","troy_ounce","troy_ounces",.03110348,[1,0,0,0,0,0],!1),f("dwt","pennyweight","pennyweights",.03110348/20,[1,0,0,0,0,0],!1),f("grain","grain","grains",6479891e-11,[1,0,0,0,0,0],!1),f("lbt","troy_pound","troy_pounds",.03110348*12,[1,0,0,0,0,0],!1),f("lbst","troy_pound","troy_pounds",.03110348*12,[1,0,0,0,0,0],!1),f("kip","kip","kips",453.59237,[1,0,0,0,0,0],!1),f("klb","klb","klbs",453.59237,[1,0,0,0,0,0],!1),f("dalton","dalton","daltons",166053e-32,[1,0,0,0,0,0],!1),f("m","meter","meters",1,[0,1,0,0,0,0],!0),f("mi","mile","miles",1609.3439999931,[0,1,0,0,0,0],!1),f("nmi","nautical_mile","nautical_miles",1852,[0,1,0,0,0,0],!1),f("yd","yard","yards",.9144,[0,1,0,0,0,0],!1),f("ft","foot","feet",.3048,[0,1,0,0,0,0],!1),f("in","inch","inches",.0254,[0,1,0,0,0,0],!1),f("ang","angstrom","angstroms",1e-10,[0,1,0,0,0,0]),f("AU","astronomical_unit","astronomical_units",1495979e5,[0,1,0,0,0,0]),f("ly","lightyear","lightyears",9460732325561360,[0,1,0,0,0,0],!0),f("ly","light_year","light_years",9460732325561360,[0,1,0,0,0,0],!0),f("pc","parsec","parsecs",308567789e8,[0,1,0,0,0,0],!0),f("ls","lightsecond","lightseconds",299792458,[0,1,0,0,0,0]),f("ls","light_second","light_seconds",299792458,[0,1,0,0,0,0]),f("mil","mil","mils",254e-7,[0,1,0,0,0,0],!1),f("thou","thou","thous",254e-7,[0,1,0,0,0,0],!1),f("chain","chain","chains",20.11680394008,[0,1,0,0,0,0],!1),f("li","link","links",.201168039400805,[0,1,0,0,0,0],!1),f("rod","rod","rods",5.0292105028246334,[0,1,0,0,0,0],!1),f("ac","acre","acres",4046.86,[0,2,0,0,0,0],!1),f("b","barn","barns",1e-28,[0,2,0,0,0,0]),f("a","are","ares",100,[0,2,0,0,0,0],!1),f("ha","hectare","hectares",1e4,[0,2,0,0,0,0],!1),f("ro","rood","roods",1011.714,[0,2,0,0,0,0],!1),f("L","liter","liters",.001,[0,3,0,0,0,0],!0),f("cc","cubic_centimeter","cubic_centimeters",1e-6,[0,3,0,0,0,0],!1),f("gal","gallon","gallons",.003785411784,[0,3,0,0,0,0],!1),f("qt","quart","quarts",.000946352946,[0,3,0,0,0,0],!1),f("pt","pint","pints",.000473176473,[0,3,0,0,0,0],!1),f("cu","cup","cups",.0002365882365,[0,3,0,0,0,0],!1),f("floz","fluid_ounce","fluid_ounces",295735295625e-16,[0,3,0,0,0,0],!1),f("tbsp","tablespoon","tablespoons",1478676478125e-17,[0,3,0,0,0,0],!1),f("tsp","teaspoon","teaspoons",492892159375e-17,[0,3,0,0,0,0],!1),f("beerbarrel","beerbarrel","beerbarrels",.1173478,[0,3,0,0,0,0],!1),f("drop","drop","drops",5e-8,[0,3,0,0,0,0],!1),f("fldram","fluid_dram","fluid_drams",3696691e-12,[0,3,0,0,0,0],!1),f("gill","gill","gills",.0001182941,[0,3,0,0,0,0],!1),f("hogshead","hogshead","hogsheads",.238481,[0,3,0,0,0,0],!1),f("minim","minim","minims",6161152e-14,[0,3,0,0,0,0],!1),f("oilbarrell","oilbarrel","oilbarrels",.1589873,[0,3,0,0,0,0],!1),f("s","second","seconds",1,[0,0,1,0,0,0],!0),f("min","minute","minutes",60,[0,0,1,0,0,0],!1),f("hr","hour","hours",3600,[0,0,1,0,0,0],!1),f("h","hour","hours",3600,[0,0,1,0,0,0],!1),f("d","day","days",3600*24,[0,0,1,0,0,0],!1),f("w","week","weeks",3600*24*7,[0,0,1,0,0,0],!1),f("y","year","years",3600*24*365.25,[0,0,1,0,0,0],!1),f("Hz","hertz","hertz",1,[0,0,-1,0,0,0],!0),f("rpm","revolution_per_minute","revolutions_per_minute",.10471975511965978,[0,0,-1,0,0,0],!1),f("mph","mile_per_hour","miles_per_hour",1609.3439999931/3600,[0,1,-1,0,0,0],!1),f("kt","knot","knots",.5144444444444445,[0,1,-1,0,0,0],!1),f("kph","kilometer per hour","kilometers per hour",1e3/3600,[0,1,-1,0,0,0],!1),f("J","joule","joules",1,[1,2,-2,0,0,0],!0),f("Wh","watt_hour","watt_hours",3600,[1,2,-2,0,0,0],!0),f("eV","electron_volt","electron_volts",1602176634e-28,[1,2,-2,0,0,0],!0),f("BTU","british_thermal_unit","british_thermal_units",1055.056,[1,2,-2,0,0,0]),f("btu","british_thermal_unit","british_thermal_units",1055.056,[1,2,-2,0,0,0]),f("erg","erg","ergs",1e-7,[1,2,-2,0,0,0]),f("cal","calorie","calories",4.184,[1,2,-2,0,0,0],!0),f("W","watt","watts",1,[1,2,-3,0,0,0],!0),f("hp_mech","mechanical_horsepower","mechanical_horsepower",745.699872,[1,2,-3,0,0,0]),f("hp","horsepower","horsepower",745.699872,[1,2,-3,0,0,0]),f("hp_electric","electric_horsepower","electric_horsepower",746,[1,2,-3,0,0,0]),f("hp_metric","metric_horsepower","metric_horsepower",735.49875,[1,2,-3,0,0,0]),f("N","newton","newtons",1,[1,1,-2,0,0,0],!0),f("ozf","ounce_force","ounces_force",.2780139,[1,1,-2,0,0,0],!1),f("lbf","pound_force","pounds_force",4.448221615260501,[1,1,-2,0,0,0],!1),f("t_force","metric_ton_force","metric_tons_force",9806.65,[1,1,-2,0,0,0],!1),f("ton_force","ton_force","tons_force",1,[1,1,-2,0,0,0],!1),f("dyn","dyne","dynes",1e-5,[1,1,-2,0,0,0]),f("gf","gram_force","grams_force",.00980665,[1,1,-2,0,0,0]),f("kipf","kip_force","kips_force",4448.222,[1,1,-2,0,0,0],!1),f("klbf","klb_force","klbs_force",4448.222,[1,1,-2,0,0,0],!1),f("A","amp","amps",1,[0,0,0,0,1,0],!0),f("A","ampere","amperes",1,[0,0,0,0,1,0],!0),f("C","coulomb","coulombs",1,[0,0,1,0,1,0],!0),f("e_p","fundamental_charge","fundamental_charges",16021765314e-29,[0,0,1,0,1,0],!1),f("e_p","positron","positrons",16021765314e-29,[0,0,1,0,1,0],!1),f("e_n","fundamental_charge_negative","fundamental_charges_negative",-16021765314e-29,[0,0,1,0,1,0],!1),f("e_n","electron","electrons",-16021765314e-29,[0,0,1,0,1,0],!1),f("V","volt","volts",1,[1,2,-3,0,-1,0],!0),f("ohm","ohm","ohms",1,[1,2,-3,0,-2,0],!0),f("S","siemens","siemens",1,[-1,-2,3,0,2,0],!0),f("F","farad","farads",1,[-1,-2,4,0,2,0],!0),f("Wb","weber","webers",1,[1,2,-2,0,-1,0],!0),f("T","tesla","teslas",1,[1,0,-2,0,-1,0],!0),f("gauss","gauss","gauss",1e-4,[1,0,-2,0,-1,0],!0),f("H","henry","henrys",1,[1,2,-2,0,-2,0],!0),f("cpm","count_per_minute","counts_per_minute",1/60,[0,0,-1,0,0,0]),f("Bq","becquerel","becquerels",1,[0,0,-1,0,0,0],!0),f("Rd","rutherford","rutherford",1e6,[0,0,-1,0,0,0],!0),f("Gy","gray","grays",1,[0,2,-2,0,0,0],!0),f("rad","rad","rads",.01,[0,2,-2,0,0,0],!0),f("R","roentgen","roentgens",258e-6,[-1,0,1,0,1,0],!0),f("Pa","pascal","pascals",1,[1,-1,-2,0,0,0],!0),f("bar","bar","bars",1e5,[1,-1,-2,0,0,0],!0),f("psi","pound_per_square_inch","pounds_per_square_inch",6894.757293178,[1,-1,-2,0,0,0]),f("torr","torr","torr",133.3223684211,[1,-1,-2,0,0,0],!0),f("mmHg","millimeter_mercury","millimeters_mercury",133.322,[1,-1,-2,0,0,0]),f("cmHg","centimeter_mercury","centimeters_mercury",1333.22,[1,-1,-2,0,0,0]),f("atm","atmosphere","atmospheres",101325,[1,-1,-2,0,0,0]),f("Ba","bary","barye",.1,[1,-1,-2,0,0,0],!0),f("pieze","pieze","pieze",1e3,[1,-1,-2,0,0,0]),f("cmH2O","centimeter_water","centimeters_water",98.0665,[1,-1,-2,0,0,0]),f("mmH2O","millimeter_water","millimeters_water",9.80665,[1,-1,-2,0,0,0]),f("P","poise","poise",.1,[1,-1,-1,0,0,0],!0),f("St","stokes","stokes",1,[0,2,-1,0,0,0],!0),f("Cd","candela","candelas",1,[0,0,0,0,0,1],!0),f("candlepower","candlepower","candlepower",.981,[0,0,0,0,0,1],!1),f("lm","lumen","lumens",1,[0,0,0,0,0,1],!0),f("lx","lux","lux",1,[0,-2,0,0,0,1],!0),f("fc","foot-candle","feet-candles",10.7639,[0,-2,0,0,0,1],!0),f("ph","phot","phots",1e4,[0,-2,0,0,0,1],!1),f("nx","nox","nox",.001,[0,-2,0,0,0,1],!0),f("sb","stilb","stilbs",1e4,[0,-2,0,0,0,1],!0),f("asb","apostilb","apostilbs",.318309886184,[0,-2,0,0,0,1],!1),f("blondel","blondel","blondels",1/Math.PI,[0,-2,0,0,0,1],!1),f("bril","bril","brils",1e-6/Math.PI,[0,-2,0,0,0,1],!1),f("sk","skot","skots",.01/Math.PI,[0,-2,0,0,0,1],!1),f("lambert","lambert","lamberts",1e5/Math.PI,[0,-2,0,0,0,1],!1),f("footlambert","footlambert","footlamberts",3.42625909963,[0,-2,0,0,0,1],!1)];Object.keys(ue).map(l=>parseInt(l)).sort((l,e)=>{let t=0,s=0;for(var n=0;n<6;n++)t+=Math.abs(ue[l].dim[n]),s+=Math.abs(ue[e].dim[n]);return s-t});let Xt={};for(var Ae=0;Ae<ue.length;Ae++)Xt[ue[Ae].symbol]=Ae,Xt[ue[Ae].longNameSingular]=Ae,Xt[ue[Ae].longNamePlural]=Ae;function ie(l,e,t){return{symbol:l,longName:e,factor:t}}const wt=[ie("","",1),ie("k","kilo",1e3),ie("m","milli",.001),ie("M","mega",1e6),ie("u","micro",1e-6),ie("G","giga",1e9),ie("n","nano",1e-9),ie("T","tera",1e12),ie("p","pico",1e-12),ie("P","peta",1e15),ie("f","femto",1e-15),ie("E","exa",1e18),ie("a","atto",1e-18),ie("z","zepto",1e-21),ie("Z","zetta",1e21),ie("y","yocto",1e-24),ie("Y","yotta",1e24),ie("c","centi",.01),ie("d","deci",.1),ie("da","deka",10),ie("h","hecto",100)];let Ye={};for(var Ae=0;Ae<ue.length;Ae++){let e=ue[Ae];if(Ye[e.symbol]=!0,Ye[e.longNameSingular]=!0,Ye[e.longNamePlural]=!0,e.applySIPrefixes)for(var Gt=0;Gt<wt.length;Gt++){let t=wt[Gt];Ye[t.symbol+e.symbol]=!0,Ye[t.longName+e.longNameSingular]=!0,Ye[t.longName+e.longNamePlural]=!0}}const ys="`~!@#$%&=[]{}\\;:'\"<>?,";let Zt=[];const re=class{constructor(e,t,s=0){ae(this,"n",0);ae(this,"iofs",0);ae(this,"dim",[0,0,0,0,0,0]);ae(this,"extra",{});this.n=e,this.iofs=s;for(var n=0;n<6;n++)this.dim[n]=t[n]||0}static getWarnings(){let e=Zt;return Zt=[],e}static warn(e){Zt.push(e)}dimEq(e){for(var t=0;t<6;t++)if(this.dim[t]!=e.dim[t])return!1;return!0}extraEq(e){for(var t in this.extra)if(this.extra[t]!=e.extra[t])return!1;return!0}isScalar(){for(var e=0;e<6;e++)if(this.dim[e]!=0)return!1;for(var t in this.extra)if(this.extra[t]!=0)return!1;return!0}static one(){return new re(1,[0,0,0,0,0,0])}static zero(){return new re(0,[0,0,0,0,0,0])}clone(){let e=new re(this.n,this.dim);e.iofs=this.iofs;for(var t in this.extra)e.extra[t]=this.extra[t];return e}static fromSave(e){let t=re.zero();t.n=e.n,t.iofs=e.iofs;for(var s=0;s<6;s++)t.dim[s]=e.dim[s];for(var n in e.extra)t.extra[n]=e[n];return t}magdim(){let e=0;for(var t=0;t<6;t++)e+=Math.abs(this.dim[t]);return e}mul(e){let t=this,s=re.zero();s.n=(t.n-he[t.iofs])*(e.n-he[e.iofs]),t.isScalar()?(s.n+=he[e.iofs],s.iofs=e.iofs):e.isScalar()?(s.n+=he[t.iofs],s.iofs=t.iofs):s.iofs=0;for(var n=0;n<6;n++)s.dim[n]=t.dim[n]+e.dim[n];for(var r in t.extra)s.extra[r]=t.extra[r];for(var a in e.extra)s.extra[a]=(s.extra[a]||0)+e.extra[a],dt(s.extra[a],0)&&delete s.extra[a];return s.isScalar()&&(t.iofs!=0&&(s.n-=he[t.iofs]),e.iofs!=0&&(s.n-=he[e.iofs])),s}div(e){let t=this,s=re.zero();s.n=(t.n-he[t.iofs])/(e.n-he[e.iofs]),s.iofs=0;for(var n=0;n<6;n++)s.dim[n]=t.dim[n]-e.dim[n];for(var r in t.extra)s.extra[r]=t.extra[r];for(var a in e.extra)s.extra[a]=(s.extra[a]||0)-e.extra[a],dt(s.extra[a],0)&&delete s.extra[a];return s}add(e){let t=this;if(!t.dimEq(e)||!t.extraEq(e))throw new TypeError("Can not add values with different units.");let s=this.clone();return s.n=t.n+e.n-he[e.iofs],s}sub(e){let t=this;if(!t.dimEq(e)||!t.extraEq(e))throw new TypeError("Can not add values with different units.");let s=this.clone();return s.n=t.n-(e.n-he[e.iofs]),s}pow(e){let t=this,s=this.clone();s.n=Math.pow(t.n,e);for(var n=0;n<6;n++)if(s.dim[n]=s.dim[n]*e,!dt(s.dim[n],Math.floor(s.dim[n]))&&!dt(s.dim[n],Math.ceil(s.dim[n])))throw new TypeError("Physical units can not have a non-integer exponent.");for(var r in s.extra)if(s.extra[r]=s.extra[r]*e,!dt(s.extra[n],Math.floor(s.extra[n]))&&!dt(s.extra[n],Math.ceil(s.extra[n])))throw new TypeError("Physical units can not have a non-integer exponent.");return s}bestPower(e,t=!1){let s=0,n=this.div(e),r=0;if(n.magdim()<this.magdim()||t&&n.magdim()<=this.magdim()){do r=n.magdim(),s++,n=n.div(e);while(n.magdim()<r);return s}let a=this.mul(e);if(a.magdim()<this.magdim()||t&&a.magdim()<=this.magdim()){do r=a.magdim(),s--,a=a.mul(e);while(a.magdim()<r);return s}return 0}static getPreferredName(e,t,s){let n;return R.useLongNames?(e?n=e.longName:n="",dt(s,1)?n+t.longNameSingular:n+t.longNamePlural):(e?n=e.symbol:n="",n+t.symbol)}prettyPrint(e={},t=""){let s=this.clone(),n={},r=new Ns,a=t.split(" "),g=0,d=qs(s.dim,[0,0,0,1,0,0]),c;do{c=s.magdim(),r.reset(s);for(var v of a)v!==""&&e[v]!==void 0&&r.tryNext(g,e[v],v),g++;if(r.isValidResult())if(n[r.bestUnitName]=r.bestPow,d){var h=he[r.bestUnit.iofs],S=r.bestUnit.n-h;s.n=(s.n-h)/S,s.dim=[0,0,0,0,0,0]}else s=s.div(r.bestUnit.pow(r.bestPow))}while(s.magdim()>0&&s.magdim()<c);for(;s.magdim()>0;){let k,x,A;r.reset(s);for(var _=0;_<ue.length;_++)r.tryNext(_,e[ue[_].symbol],ue[_].symbol);if(!r.isValidResult())throw new Error("No units found. Possible data corruption. Reload.");if(k=ue[r.iBestUnit],x=e[k.symbol],k.applySIPrefixes){if(d){var h=he[k.iofs],S=k.factor;A=s.clone(),A.n=(s.n-h)/S,A.dim=[0,0,0,0,0,0]}else A=s.div(x.pow(r.bestPow));let D=!1;for(var y=0;y<wt.length;y++){let N=wt[y],U=A.n/Math.pow(N.factor,r.bestPow);if(U>=.99&&U<1e3){s=A,s.n=U,n[re.getPreferredName(N,k,s.n)]=r.bestPow,D=!0;break}}if(!D){if(d){var h=he[k.iofs],S=k.factor;s.n=(s.n-h)/S,s.dim=[0,0,0,0,0,0]}else s=s.div(x.pow(r.bestPow));n[re.getPreferredName(null,k,s.n)]=r.bestPow}}else{if(d){var h=he[k.iofs],S=k.factor;s.n=(s.n-h)/S,s.dim=[0,0,0,0,0,0]}else s=s.div(x.pow(r.bestPow));n[re.getPreferredName(null,k,s.n)]=r.bestPow}}let w=st(s.n.toPrecision(R.precision||6)),m=0;for(var p in n)n[p]>0||R.negexp?(w+=" ",w+=p,n[p]>1&&(w+="^",w+=n[p].toString())):n[p]<0&&m++;if(m>0&&!R.negexp){w+=" / ",m>1&&(w+="(");for(var p in n)n[p]<0&&(w+=" ",w+=p,n[p]<-1&&(w+="^",w+=(-n[p]).toString()));m>1&&(w+=")")}return w}static parse(e,t){let s=[],n=" ",r=" ",a=q.WHITESPACE,g=q.WHITESPACE,d=0;for(var c=0;c<e.length;c++){if(n=e[c],ys.indexOf(n)!==-1)throw new SyntaxError(`Invalid character ${n} at index ${c}`);g==q.WHITESPACE&&(d=c),ks(n)?a=q.WHITESPACE:n=="."||g==q.NUMBER&&(n=="e"||n=="E")||g==q.NUMBER&&(r=="e"||r=="E")&&(n=="+"||n=="-")?a=q.NUMBER:g==q.SYMBOL&&es(n)?a=q.SYMBOL:Ss(n)?a=q.NUMBER:$l(n)?a=q.SYMBOL:n=="("?a=q.OPEN:n==")"?a=q.CLOSE:n=="+"?a=q.ADD:n=="-"?a=q.SUB:n=="*"?a=q.MUL:n=="/"?a=q.DIV:n=="^"?a=q.EXP:a=q.UNKNOWN,a!=g&&g!=q.WHITESPACE?(s.push(new tt(g,e,d,c)),d=c):re.SoloChars.indexOf(n)!=-1&&(s.push(new tt(a,e,c,c+1)),d=c+1,a=q.WHITESPACE),r=n,g=a}a!=q.WHITESPACE&&(s.push(new tt(a,e,d,e.length)),d=e.length);const v=new tt(q.WHITESPACE,e,0,0," ");for(var c=0;c<s.length-1;c++){var h=c>0?s[c-1]:v;if(s[c].ty==q.SUB&&h.ty!=q.SYMBOL&&h.ty!=q.NUMBER&&h.ty!=q.CLOSE&&(s[c+1].ty==q.NUMBER||s[c+1].ty==q.SYMBOL)){var S=s[c],_=s[c+1];s.splice(c,2,new tt(q.OPEN,e,S.begin,S.begin,"("),new tt(q.NUMBER,e,S.begin,S.begin,"-1"),new tt(q.MUL,e,S.begin,S.begin,"*"),_,new tt(q.CLOSE,e,_.end,_.end,")")),c+=3}else s[c].ty==q.ADD&&h.ty!=q.SYMBOL&&h.ty!=q.NUMBER&&h.ty!=q.CLOSE&&(s[c+1].ty==q.NUMBER||s[c+1].ty==q.SYMBOL)&&(s.splice(c,1),c--)}let y={ty:q.ROOT,text:"",begin:0,end:e.length,sub:s.map(function(m){return{ty:m.ty,text:m.text,begin:m.begin,end:m.end,sub:[]}})};return re.rdpParens(y),re.rdpBinaryOperator(y,[q.EXP]),re.rdpImplicitMul(y),re.rdpBinaryOperator(y,[q.MUL,q.DIV]),re.rdpBinaryOperator(y,[q.ADD,q.SUB]),re.evalAST(y,t)}static breaksImplicitMul(e){return e.ty==q.MUL||e.ty==q.DIV||e.ty==q.ADD||e.ty==q.SUB}static rdpImplicitMul(e){for(var t=0;t<e.sub.length;t++)this.rdpImplicitMul(e.sub[t]);if(e.ty==q.EXP)return;let s=0,n=0;for(var t=0;t<e.sub.length;t++)if(this.breaksImplicitMul(e.sub[t]))if(n=t,n-s>1){let a={ty:q.MUL,begin:e.sub[s].begin,end:e.sub[n-1].end,text:"*",sub:e.sub.splice(s,n-s)};e.sub.splice(s,0,a),t=s,s++}else s=n+1;if(n=e.sub.length,n-s>1){let r={ty:q.MUL,begin:e.sub[s].begin,end:e.sub[n-1].end,text:"*",sub:e.sub.splice(s,n-s)};e.sub.splice(s,0,r)}}static evalAST(e,t){let s=0,n;switch(e.ty){case q.ROOT:if(e.sub.length>1)throw new SyntaxError("Root contains more than one node");if(e.sub.length==0)throw new SyntaxError("Root is empty");return this.evalAST(e.sub[0],t);case q.ADD:if(e.sub.length==0)throw new SyntaxError(`Too few operands to addition at index ${e.begin}`);for(n=this.evalAST(e.sub[0],t),s=1;s<e.sub.length;s++)n=n.add(this.evalAST(e.sub[s],t));return n;case q.SUB:if(e.sub.length!==2)throw new SyntaxError(`Bad operand count for subtraction at index ${e.begin}`);return this.evalAST(e.sub[0],t).sub(this.evalAST(e.sub[1],t));case q.MUL:for(n=re.one(),s=0;s<e.sub.length;s++)n=n.mul(this.evalAST(e.sub[s],t));return n;case q.DIV:if(e.sub.length!==2)throw new SyntaxError(`Bad operand count for division at index ${e.begin}`);return this.evalAST(e.sub[0],t).div(this.evalAST(e.sub[1],t));case q.EXP:if(e.sub.length!=2)throw new SyntaxError(`Bad operand count for exponent at index ${e.begin}`);var r=this.evalAST(e.sub[1],t);if(!r.isScalar())throw new SyntaxError(`Exponent can not contain units, at index ${e.begin}`);return this.evalAST(e.sub[0],t).pow(r.n);case q.PAREN:if(e.sub.length!=1)throw new SyntaxError(`Ill formed expression in parens at index ${e.begin}`);return this.evalAST(e.sub[0],t);case q.NUMBER:return new re(parseFloat(e.text),[0,0,0,0,0,0]);case q.SYMBOL:var a=t[e.text];if(a===void 0)throw new EvalError(`Unit or variable not defined: ${e.text}`);return a;case q.OPEN:case q.CLOSE:throw new Error("Bug: open/close tokens should not appear in the AST");case q.WHITESPACE:throw new Error("Bug: Whitespace tokens should not appear in the AST");case q.UNKNOWN:default:throw new SyntaxError(`Unknown symbol at index ${e.begin}: ${e.text}`)}}static printAST(e,t=0){console.log(re.spaces(t)+e.text+" ("+e.ty.toString()+")");for(var s=0;s<e.sub.length;s++)this.printAST(e.sub[s],t+1)}static spaces(e){let t="";for(var s=0;s<e;s++)t+="    ";return t}static rdpBinaryOperator(e,t){for(var s=0;s<e.sub.length;s++)if(this.rdpBinaryOperator(e.sub[s],t),e.sub[s].sub.length==0&&t.indexOf(e.sub[s].ty)!=-1){if(s==0||s==e.sub.length-1)throw new SyntaxError(`Binary operator ${e.sub[s].text} missing operand at index ${e.sub[s].begin}`);let n=e.sub[s-1],r=e.sub[s],a=e.sub[s+1];r.sub=[n,a],e.sub.splice(s+1,1),e.sub.splice(s-1,1),s--,this.rdpBinaryOperator(a,t)}}static rdpParens(e){let t=0,s=0,n=0,r=0;for(var a=0;a<e.sub.length;a++){if(e.sub[a].ty==q.OPEN)t==0&&(n=a,s=a+1),t++;else if(e.sub[a].ty==q.CLOSE){if(t--,t==0)r=a,e.sub[n].ty=q.PAREN,e.sub[n].sub=e.sub.splice(s,r-s),e.sub.splice(n+1,1),a=n;else if(t<0)throw new SyntaxError(`Mismatched close parens at index ${a}`)}e.sub[a].sub.length>0&&this.rdpParens(e.sub[a])}if(t>0)throw new SyntaxError(`Unclosed parens at index ${n}`)}};let Pe=re;ae(Pe,"SoloChars","()+-/*^");class tt{constructor(e,t,s,n,r=""){ae(this,"ty");ae(this,"text");ae(this,"begin");ae(this,"end");this.ty=e,r.length>0?this.text=r:this.text=t.substring(s,n),this.begin=s,this.end=n}toString(){return this.ty.toString+"('"+this.text+"')"}}function ws(){let l={},e,t="";try{t=window.localStorage.getItem("saved-vars"),e=JSON.parse(t)}catch{console.warn(`Failed to parse saved vars: ${t}`),e={}}for(var s in e)Ye[s]||(l[s]=Pe.fromSave(e[s]));let n=Object.keys(l).length;for(var r of ue)if(l[r.symbol]=new Pe(r.factor+he[r.iofs],r.dim,r.iofs),l[r.longNameSingular]=new Pe(r.factor+he[r.iofs],r.dim,r.iofs),l[r.longNamePlural]=new Pe(r.factor+he[r.iofs],r.dim,r.iofs),r.applySIPrefixes)for(var a of wt)l[a.symbol+r.symbol]=new Pe(r.factor*a.factor,r.dim,r.iofs),l[a.longName+r.longNameSingular]=new Pe(r.factor*a.factor,r.dim,r.iofs),l[a.longName+r.longNamePlural]=new Pe(r.factor*a.factor,r.dim,r.iofs);return console.log(`Loaded ${n} variables, ${ue.length} units, and ${wt.length} prefixes.`),l}const Kl="0".charCodeAt(0),Jl="9".charCodeAt(0),Xl="A".charCodeAt(0),Gl="Z".charCodeAt(0),Zl="a".charCodeAt(0),Ql="z".charCodeAt(0);function ks(l){for(var e=0;e<l.length;e++){var t=l[e];if(!(t==" "||t=="	"||t=="\r"||t==`
`))return!1}return!0}function $l(l){for(var e=0;e<l.length;e++){var t=l.charCodeAt(e);if(!(t>=Xl&&t<=Gl)&&!(t>=Zl&&t<=Ql)&&t!="_".charCodeAt(0)&&!(t>127))return!1}return!0}function es(l){for(var e=0;e<l.length;e++){var t=l.charCodeAt(e);if(!(t>=Xl&&t<=Gl)&&!(t>=Zl&&t<=Ql)&&!(t>=Kl&&t<=Jl)&&t!="_".charCodeAt(0)&&!(t>127))return!1}return!0}var q=(l=>(l[l.UNKNOWN=0]="UNKNOWN",l[l.WHITESPACE=1]="WHITESPACE",l[l.SYMBOL=2]="SYMBOL",l[l.NUMBER=3]="NUMBER",l[l.OPERATOR=4]="OPERATOR",l[l.ADD=5]="ADD",l[l.SUB=6]="SUB",l[l.MUL=7]="MUL",l[l.DIV=8]="DIV",l[l.EXP=9]="EXP",l[l.OPEN=10]="OPEN",l[l.CLOSE=11]="CLOSE",l[l.PAREN=12]="PAREN",l[l.ROOT=13]="ROOT",l))(q||{});function Ss(l){for(var e=0;e<l.length;e++){var t=l.charCodeAt(e);if(!(t>=Kl&&t<=Jl))return!1}return!0}function dt(l,e,t=1e-4){return l!=0&&e!=0&&(t=Math.abs(t*Math.min(l,e))),Math.abs(l-e)<t}function tl(l){let e={};for(var t in l)Ye[t]||(e[t]=l[t]);localStorage.setItem("saved-vars",JSON.stringify(e))}function Mt(l){return Ye[l]}function Es(l){for(var e=0;e<ue.length;e++)if(ue[e].symbol===l)return ue[e]}function st(l){if(l=l.trim(),l.indexOf(".")==-1||l.indexOf("e")!=-1||l.indexOf("E")!=-1)return l;let e=l.length;do e--;while(l[e]=="0");return l[e]=="."&&e--,l.substring(0,e+1)}class Ns{constructor(){ae(this,"iBestUnit",-1);ae(this,"bestUnit");ae(this,"bestUnitName");ae(this,"bestPow",0);ae(this,"bestMagdimDiff",0);ae(this,"q");this.init()}reset(e){this.init(),this.q=e}init(){this.iBestUnit=-1,this.bestMagdimDiff=0,this.bestUnit=null,this.bestUnitName="",this.bestPow=0,this.q=null}isValidResult(){return this.iBestUnit!==-1}tryNext(e,t,s){if(this.q.magdim()==0)return;let n=this.q.bestPower(t);if(n!=0){for(var r=!0,a=0;a<6;a++)if(Math.abs(this.q.dim[a])<Math.abs(this.q.dim[a]-t.dim[a]*n)){r=!1;break}if(r){let d=this.q.div(t.pow(n));var g=this.q.magdim()-d.magdim();g>this.bestMagdimDiff&&(this.iBestUnit=e,this.bestUnit=t,this.bestUnitName=s,this.bestPow=n,this.bestMagdimDiff=g)}}}}function qs(l,e){if(l.length!==e.length)return!1;for(var t=0;t<l.length;t++)if(l[t]!==e[t])return!1;return!0}class Ps{constructor(){ae(this,"precision");ae(this,"useLongNames");ae(this,"prefUnits");ae(this,"negexp");this.reload()}reload(){var e=JSON.parse(localStorage.getItem("settings"));e||(e={}),this.precision=e.precision||6,this.useLongNames=e.useLongNames||!1,this.prefUnits=e.prefUnits||"",this.negexp=e.negexp||!1}save(){var e=JSON.stringify(this);localStorage.setItem("settings",e),console.log(e)}}let R=new Ps;const ol="/pqweb/assets/recall-35d71a17.svg";function Os(l){let e,t,s,n,r;return{c(){e=u("button"),t=u("img"),o(t,"class","svg-fg"),_e(t.src,s=ol)||o(t,"src",s),o(t,"alt","Recall"),o(t,"tabindex","-1"),o(e,"class","blend-bg"),o(e,"tabindex","-1")},m(a,g){z(a,e,g),i(e,t),n||(r=O(e,"click",l[1]),n=!0)},p:de,i:de,o:de,d(a){a&&B(e),n=!1,r()}}}function Ts(l){const e=At();return[e,()=>e("click","recall")]}class xs extends rt{constructor(e){super(),it(this,e,Ts,Os,nt,{})}}const Ms="/pqweb/assets/copy-f4710bbd.svg";function _l(l){let e;return{c(){e=H("Copied!")},m(t,s){z(t,e,s)},d(t){t&&B(e)}}}function As(l){let e,t,s,n,r,a,g,d=l[0]&&_l();return{c(){e=u("span"),d&&d.c(),t=b(),s=u("button"),n=u("img"),_e(n.src,r=Ms)||o(n,"src",r),o(n,"alt","Copy"),o(n,"tabindex","-1"),o(s,"class","blend-bg")},m(c,v){z(c,e,v),d&&d.m(e,null),i(e,t),i(e,s),i(s,n),a||(g=O(s,"click",l[1]),a=!0)},p(c,[v]){c[0]?d||(d=_l(),d.c(),d.m(e,t)):d&&(d.d(1),d=null)},i:de,o:de,d(c){c&&B(e),d&&d.d(),a=!1,g()}}}function Bs(l,e,t){let{text:s=""}=e;const n=At();let r=!1;function a(){navigator.clipboard.writeText(s),t(0,r=!0),setTimeout(()=>t(0,r=!1),1500),n("clicked","copy")}return l.$$set=g=>{"text"in g&&t(2,s=g.text)},[r,a,s]}class ts extends rt{constructor(e){super(),it(this,e,Bs,As,nt,{text:2})}}const zs="/pqweb/assets/gear-45a8a3d4.svg",Bt="/pqweb/assets/back-03e03082.svg";function yl(l){let e,t,s,n,r,a,g,d,c,v,h,S,_,y,w,m,p,k,x,A,D,N,U,F,M,oe,Z,fe,j,X,me;return{c(){e=u("div"),t=u("div"),s=u("div"),n=u("button"),r=u("img"),g=b(),d=u("form"),c=u("label"),c.textContent="Precision",v=b(),h=u("div"),S=u("input"),_=b(),y=u("label"),y.textContent="Always prefer these units:",w=b(),m=u("div"),p=u("input"),k=b(),x=u("label"),x.textContent="Output negative exponents",A=b(),D=u("div"),N=u("input"),U=b(),F=u("label"),F.textContent="Long unit names",M=b(),oe=u("div"),Z=u("input"),fe=b(),j=u("button"),j.textContent="Close",o(r,"class","svg-fg svelte-ay2h9l"),_e(r.src,a=Bt)||o(r,"src",a),o(r,"alt","Back"),o(n,"id","back"),o(n,"class","blend-bg svelte-ay2h9l"),o(s,"id","settings-header"),o(s,"class","svelte-ay2h9l"),o(c,"for","precision"),o(c,"class","svelte-ay2h9l"),o(S,"id","precision"),o(S,"type","number"),o(S,"class","svelte-ay2h9l"),o(h,"class","svelte-ay2h9l"),o(y,"for","prefunits"),o(y,"class","svelte-ay2h9l"),o(p,"type","text"),o(p,"id","prefunits"),o(p,"class","svelte-ay2h9l"),o(m,"class","svelte-ay2h9l"),o(x,"for","negexp"),o(x,"class","svelte-ay2h9l"),o(N,"type","checkbox"),o(N,"id","negexp"),o(N,"class","svelte-ay2h9l"),o(D,"class","svelte-ay2h9l"),o(F,"for","uselongnames"),o(F,"class","svelte-ay2h9l"),o(Z,"type","checkbox"),o(Z,"id","uselongnames"),o(Z,"class","svelte-ay2h9l"),o(oe,"class","svelte-ay2h9l"),o(d,"action",""),o(d,"class","svelte-ay2h9l"),o(j,"class","svelte-ay2h9l"),o(t,"id","settings-main"),o(t,"class","svelte-ay2h9l"),o(e,"id","settings-bg"),o(e,"class","svelte-ay2h9l")},m(Y,Q){z(Y,e,Q),i(e,t),i(t,s),i(s,n),i(n,r),i(t,g),i(t,d),i(d,c),i(d,v),i(d,h),i(h,S),ze(S,l[2].precision),i(d,_),i(d,y),i(d,w),i(d,m),i(m,p),ze(p,l[2].prefUnits),i(d,k),i(d,x),i(d,A),i(d,D),i(D,N),N.checked=l[2].negexp,i(d,U),i(d,F),i(d,M),i(d,oe),i(oe,Z),Z.checked=l[2].useLongNames,i(t,fe),i(t,j),X||(me=[O(n,"click",l[1]),O(S,"input",l[5]),O(p,"input",l[6]),O(N,"change",l[7]),O(Z,"change",l[8]),O(j,"click",l[1])],X=!0)},p(Y,Q){Q&4&&ll(S.value)!==Y[2].precision&&ze(S,Y[2].precision),Q&4&&p.value!==Y[2].prefUnits&&ze(p,Y[2].prefUnits),Q&4&&(N.checked=Y[2].negexp),Q&4&&(Z.checked=Y[2].useLongNames)},d(Y){Y&&B(e),X=!1,Ce(me)}}}function Cs(l){let e,t=l[0]&&yl(l);return{c(){t&&t.c(),e=kt()},m(s,n){t&&t.m(s,n),z(s,e,n)},p(s,[n]){s[0]?t?t.p(s,n):(t=yl(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:de,o:de,d(s){t&&t.d(s),s&&B(e)}}}function Is(l,e,t){nl(()=>{});let{visible:s=!1}=e;function n(h=!0){t(0,s=h),s||R.save()}function r(){t(0,s=!1),R.save()}function a(){t(0,s=!s),s||R.save()}function g(){R.precision=ll(this.value),t(2,R)}function d(){R.prefUnits=this.value,t(2,R)}function c(){R.negexp=this.checked,t(2,R)}function v(){R.useLongNames=this.checked,t(2,R)}return l.$$set=h=>{"visible"in h&&t(0,s=h.visible)},[s,r,R,n,a,g,d,c,v]}class Ls extends rt{constructor(e){super(),it(this,e,Is,Cs,nt,{visible:0,show:3,hide:1,toggleVisibility:4})}get show(){return this.$$.ctx[3]}get hide(){return this.$$.ctx[1]}get toggleVisibility(){return this.$$.ctx[4]}}const Us="/pqweb/assets/trash-2f1fbfee.svg";function wl(l,e,t){const s=l.slice();return s[23]=e[t],s}function kl(l){let e,t,s,n,r,a,g,d,c,v,h,S,_,y,w,m,p,k,x,A,D,N,U,F,M,oe,Z,fe,j,X,me,Y,Q,W=l[5]&&Sl(l),le=l[6]&&El(),ye=l[8],K=[];for(let L=0;L<ye.length;L+=1)K[L]=ql(wl(l,ye,L));return{c(){e=u("div"),t=u("div"),s=u("button"),n=u("img"),a=b(),g=u("div"),d=b(),c=u("span"),c.textContent="Memory",v=b(),h=u("div"),S=u("div"),_=H("New value: "),y=u("span"),w=H(l[7]),m=b(),p=u("div"),k=u("label"),k.textContent="Name:",x=b(),A=u("input"),D=b(),N=u("button"),N.textContent="+",U=b(),F=u("div"),M=u("button"),M.textContent="_",oe=b(),W&&W.c(),Z=b(),le&&le.c(),fe=b(),j=u("div"),X=u("div"),X.textContent="Saved variables",me=b();for(let L=0;L<K.length;L+=1)K[L].c();o(n,"class","svg-fg"),_e(n.src,r=Bt)||o(n,"src",r),o(n,"alt","Back"),o(s,"id","back"),o(s,"class","blend-bg"),o(g,"class","flex-spacer"),o(t,"class","memory-header svelte-yvtmgn"),o(y,"class","qtydisp svelte-yvtmgn"),o(k,"for","newvarname"),o(k,"class","svelte-yvtmgn"),o(A,"type","text"),o(A,"id","newvarname"),o(A,"class","svelte-yvtmgn"),o(N,"id","addvar"),o(N,"class","blend-bg svelte-yvtmgn"),o(p,"id","namebox"),o(p,"class","svelte-yvtmgn"),o(M,"id","underscore"),o(M,"class","svelte-yvtmgn"),o(h,"class","add"),o(X,"class","saved-vars-title svelte-yvtmgn"),o(j,"class","listvars svelte-yvtmgn"),o(e,"class","memory-main svelte-yvtmgn")},m(L,se){z(L,e,se),i(e,t),i(t,s),i(s,n),i(t,a),i(t,g),i(t,d),i(t,c),i(e,v),i(e,h),i(h,S),i(S,_),i(S,y),i(y,w),i(h,m),i(h,p),i(p,k),i(p,x),i(p,A),l[17](A),ze(A,l[3]),i(p,D),i(p,N),i(h,U),i(h,F),i(F,M),i(h,oe),W&&W.m(h,null),i(h,Z),le&&le.m(h,null),i(e,fe),i(e,j),i(j,X),i(j,me);for(let J=0;J<K.length;J+=1)K[J].m(j,null);Y||(Q=[O(s,"click",l[1]),O(A,"input",l[18]),O(A,"keypress",l[13]),O(N,"click",l[11]),O(M,"click",l[12])],Y=!0)},p(L,se){if(se&128&&te(w,L[7]),se&8&&A.value!==L[3]&&ze(A,L[3]),L[5]?W?W.p(L,se):(W=Sl(L),W.c(),W.m(h,Z)):W&&(W.d(1),W=null),L[6]?le||(le=El(),le.c(),le.m(h,null)):le&&(le.d(1),le=null),se&1795){ye=L[8];let J;for(J=0;J<ye.length;J+=1){const Ve=wl(L,ye,J);K[J]?K[J].p(Ve,se):(K[J]=ql(Ve),K[J].c(),K[J].m(j,null))}for(;J<K.length;J+=1)K[J].d(1);K.length=ye.length}},d(L){L&&B(e),l[17](null),W&&W.d(),le&&le.d(),Tt(K,L),Y=!1,Ce(Q)}}}function Sl(l){let e,t;return{c(){e=u("div"),t=H(l[5]),o(e,"class","err")},m(s,n){z(s,e,n),i(e,t)},p(s,n){n&32&&te(t,s[5])},d(s){s&&B(e)}}}function El(l){let e;return{c(){e=u("div"),e.textContent="Variable created.",o(e,"class","confirm")},m(t,s){z(t,e,s)},d(t){t&&B(e)}}}function Nl(l){let e,t,s,n=l[23]+"",r,a,g,d,c,v,h,S,_,y=l[0][l[23]].prettyPrint(l[0],R.prefUnits)+"",w,m,p,k,x,A,D,N;function U(){return l[19](l[23])}function F(){return l[20](l[23])}return{c(){e=u("div"),t=u("span"),s=u("span"),r=H(n),a=b(),g=u("button"),d=u("img"),v=b(),h=u("span"),h.textContent="=",S=b(),_=u("span"),w=H(y),m=b(),p=u("button"),k=u("img"),A=b(),_e(d.src,c=ol)||o(d,"src",c),o(d,"alt","Recall"),o(d,"class","svg-fg"),o(g,"class","recall blend-bg"),o(k,"class","svg-fg"),_e(k.src,x=Us)||o(k,"src",x),o(k,"alt","Delete"),o(p,"class","delvar blend-bg"),o(e,"class","varline svelte-yvtmgn")},m(M,oe){z(M,e,oe),i(e,t),i(t,s),i(s,r),i(t,a),i(t,g),i(g,d),i(e,v),i(e,h),i(e,S),i(e,_),i(_,w),i(e,m),i(e,p),i(p,k),i(e,A),D||(N=[O(g,"click",U),O(p,"click",F)],D=!0)},p(M,oe){l=M,oe&256&&n!==(n=l[23]+"")&&te(r,n),oe&257&&y!==(y=l[0][l[23]].prettyPrint(l[0],R.prefUnits)+"")&&te(w,y)},d(M){M&&B(e),D=!1,Ce(N)}}}function ql(l){let e=!Mt(l[23]),t,s=e&&Nl(l);return{c(){s&&s.c(),t=kt()},m(n,r){s&&s.m(n,r),z(n,t,r)},p(n,r){r&256&&(e=!Mt(n[23])),e?s?s.p(n,r):(s=Nl(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(n){s&&s.d(n),n&&B(t)}}}function Rs(l){let e,t=l[2]&&kl(l);return{c(){t&&t.c(),e=kt()},m(s,n){t&&t.m(s,n),z(s,e,n)},p(s,[n]){s[2]?t?t.p(s,n):(t=kl(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:de,o:de,d(s){t&&t.d(s),s&&B(e)}}}function Vs(l,e,t){let s,n,{varset:r}=e,{qty:a}=e,g=!1;function d(M=!0){t(2,g=M),g||tl(r)}function c(){d(!1)}function v(){d(!g)}let h,S=At();function _(M){delete r[M],t(0,r)}function y(){h&&h.length>0&&($l(h[0])&&es(h)?(t(0,r[h]=a,r),t(0,r),t(3,h="")):A("Invalid name. Letters, numbers, and _ only"))}function w(){let M=m.selectionStart;t(3,h=h.substring(0,M)+"_"+h.substring(M,h.length)),m.focus(),m.setSelectionRange(M+1,M+1)}let m;function p(M){M.key=="Enter"&&y()}let k="",x=!1;function A(M){t(5,k=M),setTimeout(()=>t(5,k=""),5e3)}function D(M){Be[M?"unshift":"push"](()=>{m=M,t(4,m)})}function N(){h=this.value,t(3,h)}const U=M=>{S("recall",M),c()},F=M=>_(M);return l.$$set=M=>{"varset"in M&&t(0,r=M.varset),"qty"in M&&t(14,a=M.qty)},l.$$.update=()=>{l.$$.dirty&1&&t(8,s=Object.keys(r).sort()),l.$$.dirty&16385&&t(7,n=a.prettyPrint(r,R.prefUnits))},[r,c,g,h,m,k,x,n,s,S,_,y,w,p,a,d,v,D,N,U,F]}class Ds extends rt{constructor(e){super(),it(this,e,Vs,Rs,nt,{varset:0,qty:14,show:15,hide:1,toggleVisibility:16})}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[1]}get toggleVisibility(){return this.$$.ctx[16]}}function Pl(l){let e,t,s,n,r,a,g,d,c;return{c(){e=u("div"),t=u("div"),s=u("button"),n=u("img"),a=b(),g=u("div"),g.innerHTML=`<h2>Layout</h2> 
<p>First, let&#39;s get comfortable.
	You may notice a slider in the bottom half of the screen that says
	&quot;mobile device on screen keyboard area&quot;. The height of this area
	can be adjusted, or eliminated entirely via the &quot;collapse&quot; button.
	This allows you to position the keypad in a convenient location
	for your device, so you can keep your system keyboard on letter
	mode and use the numbers and symbols provided. This setting
	will be saved when you reload the page, so go ahead and take a minute to
	get it just right.</p> 
<p>This app also supports dark and light modes via your browser&#39;s settings.
This can be found on Chromium-like browsers under settings, appearance, theme.</p> 

<h2>Crash course by example:</h2>
Type or paste the following into the calculator:
<pre class="svelte-dgwtyd">5ft+7in</pre>
It gives you meters. Great, but what if you want cm?
<pre class="svelte-dgwtyd">5ft+7in, cm</pre> 
	
<p>Add a comma plus your preferred units to specify what you want.
	Units after the comma should only be separated by spaces.</p> 

<p>There is also a setting (the gear in the top right) for
	&quot;always preferred units&quot; if you get tired of typing &quot;, cm&quot;
	all the time. But anything you type in the line with a comma
	will override this setting.</p> 

<pre class="svelte-dgwtyd">100 m / 12.5 s, mph</pre>

You get the idea. But let&#39;s throw a curve ball.

<pre class="svelte-dgwtyd">50 ft lb * 2700 rpm</pre> 

<p>... Whoa, that&#39;s a lot of symbols. Is that right?
	We can check if there are any meaningful units with
	the question mark symbol next to the answer.</p> 

<p>D&#39;oh, we need to use pounds of force, not pounds of weight! (i.e. mass)
	In this program force-pounds have the symbol lbf.</p> 
	
<pre class="svelte-dgwtyd">50 ft lbf * 2700 rpm, hp</pre>

Now that&#39;s more like it.

<p>There may be several units like that. Check that question
	mark any time you&#39;re not sure. You can see all available
	units of, say, force, by entering &quot;newtons&quot; and checking
	that page.</p> 


<h2>Memory and Custom Variabes</h2> 
<p>There is a memory button &quot;M&quot; on the keypad. You can hit that 
	to manage your saved variables and create new ones from the
	previous answer.</p> 

<p>To store the last answer as a variable, type its name into the box at the top
	and hit the green + button.</p> 
<p>To insert one of these variables into your input, tap the
	recall icon next to its name, or just type it in manually.</p> 


<p>You can also use the equals sign = to create a variable directly from the text prompt.</p> 
<pre class="svelte-dgwtyd">earth_gravity = 9.81 m/s^2
</pre> 
<p>This is the only time = should appear in your formula.
This program is an expression evaluator, not an algebraic solver.</p> 

<p>The special variable <em>ans</em> always refers to the last answer.
You can use <em>ans</em> to further refine your statement.</p> 


<h2>History</h2> 
<p>On desktop devices, you can hit the up and down arrows to scroll through
	previous entries if you want to modify or run them again. On mobile devices,
	this can be done by tapping the reload icon next to each history entry on the left.</p> 
<p>There is a &quot;copy to clipboard&quot; button next to the output in the history list.
This may or may not work depending on your browser and OS. Some mobile devices
may disable this feature for security reasons.</p> 
<p>Tapping the &quot;C&quot; or &quot;Clear&quot; button clears the history. But if you accidentally
hit it by mistake, don&#39;t worry! Just refresh the page and your history will come back.
Once you enter the next calculation though, it will start over.</p> 
<p>&quot;CE&quot; or &quot;Clear Entry&quot; clears your current input box and does not erase any history.</p> 

<h2>Saving and exporting</h2> 
<p>The button at the top right with the up-facing arrow is the export page. Here you can 
	extract the program&#39;s data and transfer it to a file on your hard drive, an email, or
	any other form of permanent storage. The program stores its data in your browser&#39;s
	local storage, so as long as you&#39;re on the same device, and the same browser, everything
	will be preserved. But here you can transfer your settings, history, and variables to another
	device. To back up your data, either hit the copy-to-clipboard button, or &quot;select all&quot;
	in the text box, copy and paste into a text file, message, etc. To import data, tap &quot;clear&quot;,
	paste one of those backups into the box, and tap &quot;Import.&quot;</p> 

<h2>Links</h2> 
<p>To follow the latest developments, report bugs, or request features, the source code to this project is at
	<a href="https://github.com/DFPercush/pqweb">https://github.com/DFPercush/pqweb</a></p> 
<p>If you would like to feed the programmer, you can buy me a coffee on <a href="https://ko-fi.com/DFPercush">Ko-Fi</a></p> 
<p>This project is powered by <a href="https://svelte.dev/">Svelte</a>.</p>`,o(n,"class","svg-fg"),_e(n.src,r=Bt)||o(n,"src",r),o(n,"alt","Back"),o(s,"class","close blend-bg svelte-dgwtyd"),o(t,"id","topbar"),o(t,"class","svelte-dgwtyd"),o(g,"id","maintext"),o(g,"class","svelte-dgwtyd"),o(e,"id","help-main"),o(e,"class","svelte-dgwtyd")},m(v,h){z(v,e,h),i(e,t),i(t,s),i(s,n),i(e,a),i(e,g),d||(c=O(s,"click",l[1]),d=!0)},p:de,d(v){v&&B(e),d=!1,c()}}}function Hs(l){let e,t=l[0]&&Pl(l);return{c(){t&&t.c(),e=kt()},m(s,n){t&&t.m(s,n),z(s,e,n)},p(s,[n]){s[0]?t?t.p(s,n):(t=Pl(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:de,o:de,d(s){t&&t.d(s),s&&B(e)}}}function Ws(l,e,t){let{visible:s=!1}=e;function n(g=!0){t(0,s=g)}function r(){n(!1)}function a(){n(!s)}return l.$$set=g=>{"visible"in g&&t(0,s=g.visible)},[s,r,n,a]}class Fs extends rt{constructor(e){super(),it(this,e,Ws,Hs,nt,{visible:0,show:2,hide:1,toggleVisibility:3})}get show(){return this.$$.ctx[2]}get hide(){return this.$$.ctx[1]}get toggleVisibility(){return this.$$.ctx[3]}}function Ol(l){let e,t,s,n,r,a,g,d,c,v,h,S,_,y,w,m,p,k,x,A,D;return y=new ts({props:{text:l[2]}}),{c(){e=u("div"),t=u("div"),s=u("button"),n=u("img"),a=b(),g=u("h2"),g.textContent="Import / Export",d=b(),c=u("label"),c.textContent="Data:",v=b(),h=u("textarea"),S=b(),_=u("div"),lt(y.$$.fragment),w=b(),m=u("button"),m.textContent="Clear",p=b(),k=u("button"),k.textContent="Import",o(n,"class","svg-fg"),_e(n.src,r=Bt)||o(n,"src",r),o(n,"alt","Back"),o(s,"class","back blend-bg svelte-76lqli"),o(t,"class","left topbar svelte-76lqli"),o(c,"for","maintextarea"),o(c,"class","sr-only"),o(h,"name","maintextarea"),o(h,"id","maintextarea"),o(h,"rows","20"),o(h,"aria-hidden","true"),o(h,"class","svelte-76lqli"),o(m,"class","clearbutton svelte-76lqli"),o(k,"class","importbutton svelte-76lqli"),o(_,"class","buttons svelte-76lqli"),o(e,"class","export-main svelte-76lqli")},m(N,U){z(N,e,U),i(e,t),i(t,s),i(s,n),i(t,a),i(t,g),i(e,d),i(e,c),i(e,v),i(e,h),ze(h,l[2]),i(e,S),i(e,_),Ke(y,_,null),i(_,w),i(_,m),i(_,p),i(_,k),x=!0,A||(D=[O(s,"click",l[1]),O(h,"input",l[8]),O(m,"click",l[9]),O(k,"click",l[3])],A=!0)},p(N,U){U&4&&ze(h,N[2]);const F={};U&4&&(F.text=N[2]),y.$set(F)},i(N){x||(ce(y.$$.fragment,N),x=!0)},o(N){qe(y.$$.fragment,N),x=!1},d(N){N&&B(e),Je(y),A=!1,Ce(D)}}}function js(l){let e,t,s=l[0]&&Ol(l);return{c(){s&&s.c(),e=kt()},m(n,r){s&&s.m(n,r),z(n,e,r),t=!0},p(n,[r]){n[0]?s?(s.p(n,r),r&1&&ce(s,1)):(s=Ol(n),s.c(),ce(s,1),s.m(e.parentNode,e)):s&&(il(),qe(s,1,1,()=>{s=null}),rl())},i(n){t||(ce(s),t=!0)},o(n){qe(s),t=!1},d(n){s&&s.d(n),n&&B(e)}}}function Ys(l,e,t){let{visible:s=!1}=e;function n(w=!0){t(0,s=w),s&&h()}function r(){n(!1)}function a(){n(!s)}let g="",{vars:d}=e,{history:c}=e,v=At();nl(()=>{h()});function h(){let w={};for(var m in d)Mt(m)||(w[m]=d[m]);t(2,g=JSON.stringify({settings:R,vars:w,history:c},function(k,x){return k==="dim"?JSON.stringify(x):x},2).replace(/\"\[/g,"[").replace(/\]\"/g,"]"))}function S(){let w=JSON.parse(g),m={};if("settings"in w){for(var p in w.settings)R[p]=w.settings[p];R.save(),m.settings=!0}if("history"in w){t(5,c=w.history);let k=JSON.stringify(this.history);localStorage.setItem("history",k),m.history=!0}if("vars"in w){t(4,d=w.vars);let k=JSON.stringify(d);localStorage.setItem("saved-vars",k),m.vars=!0}v("import",m),r()}function _(){g=this.value,t(2,g)}const y=()=>t(2,g="");return l.$$set=w=>{"visible"in w&&t(0,s=w.visible),"vars"in w&&t(4,d=w.vars),"history"in w&&t(5,c=w.history)},[s,r,g,S,d,c,n,a,_,y]}class Ks extends rt{constructor(e){super(),it(this,e,Ys,js,nt,{visible:0,show:6,hide:1,toggleVisibility:7,vars:4,history:5})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[1]}get toggleVisibility(){return this.$$.ctx[7]}}const Js="/pqweb/assets/calc-4a7ecade.svg",Xs="/pqweb/assets/export-59727f1b.svg",Gs="/pqweb/assets/kofi_logo_white_stroke_small-f5b4cbb8.webp",Zs="/pqweb/assets/donate-9695f162.svg";function Tl(l,e,t){const s=l.slice();return s[16]=e[t],s}function xl(l,e,t){const s=l.slice();return s[19]=e[t],s}function Ml(l){let e,t,s,n,r,a,g,d,c,v,h,S,_,y,w,m,p,k,x=l[4].dim[0]+"",A,D,N,U,F=l[4].dim[1]+"",M,oe,Z,fe,j=l[4].dim[2]+"",X,me,Y,Q,W=l[4].dim[3]+"",le,ye,K,L,se=l[4].dim[4]+"",J,Ve,De,Oe,Fe=l[4].dim[5]+"",xe,pe,je,T,we,ot,Te,at,ke,ut,ge,Xe,Ie,Le=l[8],$=[];for(let C=0;C<Le.length;C+=1)$[C]=Al(xl(l,Le,C));let Ue=l[9],ee=[];for(let C=0;C<Ue.length;C+=1)ee[C]=Bl(Tl(l,Ue,C));return{c(){e=u("div"),t=u("div"),s=u("button"),n=u("img"),a=b(),g=u("div"),d=H(l[5]),c=b(),v=u("div"),h=H(l[6]),S=b(),_=u("div"),y=H(l[7]),w=b(),m=u("div"),p=u("div"),p.innerHTML='<div class="svelte-94l9i4">Mass</div>',k=u("div"),A=H(x),D=b(),N=u("div"),N.innerHTML='<div class="svelte-94l9i4">Distance</div>',U=u("div"),M=H(F),oe=b(),Z=u("div"),Z.innerHTML='<div class="svelte-94l9i4">Time</div>',fe=u("div"),X=H(j),me=b(),Y=u("div"),Y.innerHTML='<div class="svelte-94l9i4">Temperature</div>',Q=u("div"),le=H(W),ye=b(),K=u("div"),K.innerHTML='<div class="svelte-94l9i4">Electrical Current</div>',L=u("div"),J=H(se),Ve=b(),De=u("div"),De.innerHTML='<div class="svelte-94l9i4">Luminous Intensity</div>',Oe=u("div"),xe=H(Fe),pe=b(),je=u("h2"),je.textContent="Same as:",T=b(),we=u("div");for(let C=0;C<$.length;C+=1)$[C].c();ot=b(),Te=u("h2"),Te.textContent="Variables:",at=b(),ke=u("div");for(let C=0;C<ee.length;C+=1)ee[C].c();ut=b(),ge=u("button"),ge.textContent="Close",o(n,"class","svg-fg svelte-94l9i4"),_e(n.src,r=Bt)||o(n,"src",r),o(n,"alt","Back"),o(s,"class","blend-bg svelte-94l9i4"),o(t,"class","header svelte-94l9i4"),o(g,"class","qty svelte-94l9i4"),o(v,"class","qty svelte-94l9i4"),o(_,"class","qty-raw svelte-94l9i4"),o(p,"class","svelte-94l9i4"),o(k,"class","svelte-94l9i4"),o(N,"class","svelte-94l9i4"),o(U,"class","svelte-94l9i4"),o(Z,"class","svelte-94l9i4"),o(fe,"class","svelte-94l9i4"),o(Y,"class","svelte-94l9i4"),o(Q,"class","svelte-94l9i4"),o(K,"class","svelte-94l9i4"),o(L,"class","svelte-94l9i4"),o(De,"class","svelte-94l9i4"),o(Oe,"class","svelte-94l9i4"),o(m,"class","dim svelte-94l9i4"),o(je,"class","svelte-94l9i4"),o(we,"class","identical svelte-94l9i4"),o(Te,"class","svelte-94l9i4"),o(ke,"class","identical-vars svelte-94l9i4"),o(ge,"id","close-end"),o(ge,"class","svelte-94l9i4"),o(e,"class","whatis svelte-94l9i4")},m(C,G){z(C,e,G),i(e,t),i(t,s),i(s,n),i(e,a),i(e,g),i(g,d),i(e,c),i(e,v),i(v,h),i(e,S),i(e,_),i(_,y),i(e,w),i(e,m),i(m,p),i(m,k),i(k,A),i(m,D),i(m,N),i(m,U),i(U,M),i(m,oe),i(m,Z),i(m,fe),i(fe,X),i(m,me),i(m,Y),i(m,Q),i(Q,le),i(m,ye),i(m,K),i(m,L),i(L,J),i(m,Ve),i(m,De),i(m,Oe),i(Oe,xe),i(e,pe),i(e,je),i(e,T),i(e,we);for(let I=0;I<$.length;I+=1)$[I].m(we,null);i(e,ot),i(e,Te),i(e,at),i(e,ke);for(let I=0;I<ee.length;I+=1)ee[I].m(ke,null);i(e,ut),i(e,ge),Xe||(Ie=[O(s,"click",l[2]),O(ge,"click",l[2])],Xe=!0)},p(C,G){if(G&32&&te(d,C[5]),G&64&&te(h,C[6]),G&128&&te(y,C[7]),G&16&&x!==(x=C[4].dim[0]+"")&&te(A,x),G&16&&F!==(F=C[4].dim[1]+"")&&te(M,F),G&16&&j!==(j=C[4].dim[2]+"")&&te(X,j),G&16&&W!==(W=C[4].dim[3]+"")&&te(le,W),G&16&&se!==(se=C[4].dim[4]+"")&&te(J,se),G&16&&Fe!==(Fe=C[4].dim[5]+"")&&te(xe,Fe),G&280){Le=C[8];let I;for(I=0;I<Le.length;I+=1){const Se=xl(C,Le,I);$[I]?$[I].p(Se,G):($[I]=Al(Se),$[I].c(),$[I].m(we,null))}for(;I<$.length;I+=1)$[I].d(1);$.length=Le.length}if(G&1566){Ue=C[9];let I;for(I=0;I<Ue.length;I+=1){const Se=Tl(C,Ue,I);ee[I]?ee[I].p(Se,G):(ee[I]=Bl(Se),ee[I].c(),ee[I].m(ke,null))}for(;I<ee.length;I+=1)ee[I].d(1);ee.length=Ue.length}},d(C){C&&B(e),Tt($,C),Tt(ee,C),Xe=!1,Ce(Ie)}}}function Al(l){let e,t=st((l[4].n/l[19].factor).toPrecision(l[3].precision))+"",s,n,r,a=l[19].symbol+"",g,d,c,v=l[19].longNameSingular+"",h,S,_,y=l[19].longNamePlural+"",w,m;return{c(){e=u("div"),s=H(t),n=b(),r=u("div"),g=H(a),d=b(),c=u("div"),h=H(v),S=b(),_=u("div"),w=H(y),m=b(),o(e,"class","svelte-94l9i4"),o(r,"class","svelte-94l9i4"),o(c,"class","svelte-94l9i4"),o(_,"class","svelte-94l9i4")},m(p,k){z(p,e,k),i(e,s),z(p,n,k),z(p,r,k),i(r,g),z(p,d,k),z(p,c,k),i(c,h),z(p,S,k),z(p,_,k),i(_,w),z(p,m,k)},p(p,k){k&280&&t!==(t=st((p[4].n/p[19].factor).toPrecision(p[3].precision))+"")&&te(s,t),k&256&&a!==(a=p[19].symbol+"")&&te(g,a),k&256&&v!==(v=p[19].longNameSingular+"")&&te(h,v),k&256&&y!==(y=p[19].longNamePlural+"")&&te(w,y)},d(p){p&&B(e),p&&B(n),p&&B(r),p&&B(d),p&&B(c),p&&B(S),p&&B(_),p&&B(m)}}}function Bl(l){let e,t=st((l[4].n/l[1][l[16]].n).toPrecision(l[3].precision))+"",s,n,r,a=l[16]+"",g,d,c,v,h,S,_,y;function w(){return l[13](l[16])}return{c(){e=u("div"),s=H(t),n=b(),r=u("div"),g=H(a),d=b(),c=u("button"),v=u("img"),S=b(),o(e,"class","svelte-94l9i4"),o(r,"class","svelte-94l9i4"),o(v,"class","svg-fg svelte-94l9i4"),_e(v.src,h=ol)||o(v,"src",h),o(v,"alt","Recall"),o(c,"class","blend-bg svelte-94l9i4")},m(m,p){z(m,e,p),i(e,s),z(m,n,p),z(m,r,p),i(r,g),z(m,d,p),z(m,c,p),i(c,v),i(c,S),_||(y=O(c,"click",w),_=!0)},p(m,p){l=m,p&538&&t!==(t=st((l[4].n/l[1][l[16]].n).toPrecision(l[3].precision))+"")&&te(s,t),p&512&&a!==(a=l[16]+"")&&te(g,a)},d(m){m&&B(e),m&&B(n),m&&B(r),m&&B(d),m&&B(c),_=!1,y()}}}function Qs(l){let e,t=l[0]&&Ml(l);return{c(){t&&t.c(),e=kt()},m(s,n){t&&t.m(s,n),z(s,e,n)},p(s,[n]){s[0]?t?t.p(s,n):(t=Ml(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:de,o:de,d(s){t&&t.d(s),s&&B(e)}}}function zl(l,e){if(l.length!==e.length)return!1;for(var t=0;t<l.length;t++)if(l[t]!==e[t])return!1;return!0}function $s(l,e,t){let{varset:s}=e,n,r="",a="",g="",d="",c=[],v=[],h=At();function S(){t(4,n=Pe.parse(r,s));let k=R.useLongNames;try{t(3,R.useLongNames=!1,R),t(5,a=n.prettyPrint(s)),t(3,R.useLongNames=!0,R),t(6,g=n.prettyPrint(s)),t(7,d=`${st(n.n.toPrecision(16))} [${n.dim[0]},${n.dim[1]},${n.dim[2]},${n.dim[3]},${n.dim[4]},${n.dim[5]}]`)}catch{}t(3,R.useLongNames=k,R),t(8,c=[]);for(var x of ue)zl(x.dim,n.dim)&&c.push(x);t(9,v=[]);for(var A of Object.keys(s))Mt(A)||zl(s[A].dim,n.dim)&&v.push(A);t(8,c),t(9,v)}let{visible:_=!1}=e;function y(k){r=k,S(),t(0,_=!0)}function w(){t(0,_=!1)}function m(){_?w():y(r)}const p=k=>{h("recall",{name:k,factor:n.n/s[k].n}),w()};return l.$$set=k=>{"varset"in k&&t(1,s=k.varset),"visible"in k&&t(0,_=k.visible)},[_,s,w,R,n,a,g,d,c,v,h,y,m,p]}class en extends rt{constructor(e){super(),it(this,e,$s,Qs,nt,{varset:1,visible:0,show:11,hide:2,toggleVisibility:12})}get show(){return this.$$.ctx[11]}get hide(){return this.$$.ctx[2]}get toggleVisibility(){return this.$$.ctx[12]}}function Cl(l,e,t){const s=l.slice();return s[72]=e[t],s[74]=t,s}function Il(l,e,t){const s=l.slice();return s[75]=e[t],s}function Ll(l){let e,t,s,n,r,a,g,d,c,v,h;return{c(){e=u("div"),t=u("div"),s=u("a"),n=H("Buy me a coffee on "),r=u("img"),g=b(),d=u("div"),c=u("button"),c.textContent="Close",_e(r.src,a=Gs)||o(r,"src",a),o(r,"alt","ko-fi.com"),o(r,"height","30pt"),o(r,"width","100pt"),o(s,"href","https://ko-fi.com/DFPercush"),o(e,"class","funding svelte-119a6z8")},m(S,_){z(S,e,_),i(e,t),i(t,s),i(s,n),i(s,r),i(e,g),i(e,d),i(d,c),v||(h=O(c,"click",l[39]),v=!0)},p:de,d(S){S&&B(e),v=!1,h()}}}function Ul(l){let e,t=l[72].error+"",s;return{c(){e=u("div"),s=H(t),o(e,"class","history-errbox svelte-119a6z8")},m(n,r){z(n,e,r),i(e,s)},p(n,r){r[0]&1&&t!==(t=n[72].error+"")&&te(s,t)},d(n){n&&B(e)}}}function Rl(l){let e,t=l[72].warnings,s=[];for(let n=0;n<t.length;n+=1)s[n]=Vl(Il(l,t,n));return{c(){e=u("div");for(let n=0;n<s.length;n+=1)s[n].c();o(e,"class","history-warnbox svelte-119a6z8")},m(n,r){z(n,e,r);for(let a=0;a<s.length;a+=1)s[a].m(e,null)},p(n,r){if(r[0]&1){t=n[72].warnings;let a;for(a=0;a<t.length;a+=1){const g=Il(n,t,a);s[a]?s[a].p(g,r):(s[a]=Vl(g),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(n){n&&B(e),Tt(s,n)}}}function Vl(l){let e,t=l[75]+"",s,n;return{c(){e=u("div"),s=H(t),n=b(),o(e,"class","warnmsg svelte-119a6z8")},m(r,a){z(r,e,a),i(e,s),i(e,n)},p(r,a){a[0]&1&&t!==(t=r[75]+"")&&te(s,t)},d(r){r&&B(e)}}}function Dl(l){let e,t,s,n,r,a,g,d=l[72].output+"",c,v,h,S;function _(){return l[41](l[72])}return r=new ts({props:{text:l[72].output}}),r.$on("clicked",l[42]),{c(){e=u("div"),t=u("div"),s=u("button"),s.textContent="?",n=b(),lt(r.$$.fragment),a=b(),g=u("span"),c=H(d),o(s,"class","whatis-button blend-bg svelte-119a6z8"),o(g,"class","history-output svelte-119a6z8"),o(e,"class","right svelte-119a6z8")},m(y,w){z(y,e,w),i(e,t),i(t,s),i(t,n),Ke(r,t,null),i(t,a),i(t,g),i(g,c),v=!0,h||(S=O(s,"click",_),h=!0)},p(y,w){l=y;const m={};w[0]&1&&(m.text=l[72].output),r.$set(m),(!v||w[0]&1)&&d!==(d=l[72].output+"")&&te(c,d)},i(y){v||(ce(r.$$.fragment,y),v=!0)},o(y){qe(r.$$.fragment,y),v=!1},d(y){y&&B(e),Je(r),h=!1,S()}}}function Hl(l){let e,t,s,n,r=l[72].query+"",a,g,d,c,v,h,S,_;function y(){return l[40](l[74])}d=new xs({}),d.$on("click",y);let w=l[72].error!=""&&Ul(l),m=l[72].warnings.length>0&&Rl(l),p=l[72].error==""&&Dl(l);return{c(){e=u("div"),t=u("div"),s=u("span"),n=u("span"),a=H(r),g=b(),lt(d.$$.fragment),c=b(),w&&w.c(),v=b(),m&&m.c(),h=b(),p&&p.c(),S=b(),o(n,"class","history-query-text"),o(s,"class","history-query-line svelte-119a6z8"),o(t,"class","left svelte-119a6z8"),o(e,"class","history-item svelte-119a6z8")},m(k,x){z(k,e,x),i(e,t),i(t,s),i(s,n),i(n,a),i(s,g),Ke(d,s,null),i(e,c),w&&w.m(e,null),i(e,v),m&&m.m(e,null),i(e,h),p&&p.m(e,null),i(e,S),_=!0},p(k,x){l=k,(!_||x[0]&1)&&r!==(r=l[72].query+"")&&te(a,r),l[72].error!=""?w?w.p(l,x):(w=Ul(l),w.c(),w.m(e,v)):w&&(w.d(1),w=null),l[72].warnings.length>0?m?m.p(l,x):(m=Rl(l),m.c(),m.m(e,h)):m&&(m.d(1),m=null),l[72].error==""?p?(p.p(l,x),x[0]&1&&ce(p,1)):(p=Dl(l),p.c(),ce(p,1),p.m(e,S)):p&&(il(),qe(p,1,1,()=>{p=null}),rl())},i(k){_||(ce(d.$$.fragment,k),ce(p),_=!0)},o(k){qe(d.$$.fragment,k),qe(p),_=!1},d(k){k&&B(e),Je(d),w&&w.d(),m&&m.d(),p&&p.d()}}}function Wl(l){let e,t,s,n,r,a,g,d,c,v,h,S;return{c(){e=u("div"),t=u("div"),s=u("div"),n=b(),r=u("div"),r.textContent="(Mobile device on-screen keyboard area)",a=b(),g=u("div"),d=u("button"),d.textContent="Collapse",c=b(),v=u("input"),o(d,"id","collapse-keyboard-reserve"),o(d,"class","svelte-119a6z8"),o(v,"type","range"),o(v,"min",".1"),o(v,"max","4.0"),o(v,"step",".01"),o(e,"class","system-keyboard svelte-119a6z8"),Wt(e,"flex",l[10])},m(_,y){z(_,e,y),i(e,t),i(t,s),i(t,n),i(t,r),i(t,a),i(t,g),i(g,d),i(g,c),i(g,v),ze(v,l[10]),h||(S=[O(d,"click",l[66]),O(v,"change",l[67]),O(v,"input",l[67]),O(v,"change",l[24])],h=!0)},p(_,y){y[0]&1024&&ze(v,_[10]),y[0]&1024&&Wt(e,"flex",_[10])},d(_){_&&B(e),h=!1,Ce(S)}}}function tn(l){let e,t,s,n,r,a,g,d,c,v,h,S,_,y,w,m,p,k,x,A,D,N,U,F,M,oe,Z,fe,j,X,me,Y,Q,W,le,ye,K,L,se,J,Ve,De,Oe,Fe,xe,pe,je,T,we,ot,Te,at,ke,ut,ge,Xe,Ie,Le,$,Ue,ee,C,G,I,Se,zt,Ge,Ct,Ze,It,Qe,Lt,$e,Ut,E,ft,be,Re,Me,St,He,Et,We,Nt,et,Rt,mt,al,pt,ul,gt,fl,bt,cl,vt,dl,qt,Ft,hl,ls={};e=new Ls({props:ls}),l[26](e);let ss={varset:l[2],qty:l[9]};s=new Ds({props:ss}),l[27](s),s.$on("recall",l[28]);function ns(P){l[30](P)}function is(P){l[31](P)}let jt={};l[0]!==void 0&&(jt.history=l[0]),l[2]!==void 0&&(jt.vars=l[2]),r=new Ks({props:jt}),l[29](r),Be.push(()=>vl(r,"history",ns)),Be.push(()=>vl(r,"vars",is)),r.$on("import",l[23]);let rs={};c=new Fs({props:rs}),l[32](c);let os={varset:l[2]};h=new en({props:os}),l[33](h),h.$on("recall",l[34]);let Ee=l[13]&&Ll(l),ct=l[0],ne=[];for(let P=0;P<ct.length;P+=1)ne[P]=Hl(Cl(l,ct,P));const as=P=>qe(ne[P],1,1,()=>{ne[P]=null});let Ne=l[8]&&Wl(l);return{c(){lt(e.$$.fragment),t=b(),lt(s.$$.fragment),n=b(),lt(r.$$.fragment),d=b(),lt(c.$$.fragment),v=b(),lt(h.$$.fragment),S=b(),_=u("main"),y=u("div"),w=u("div"),m=u("img"),k=b(),x=u("span"),x.textContent="PQ",A=b(),D=u("div"),N=u("button"),U=u("img"),M=H(" Donate"),oe=b(),Z=u("div"),fe=b(),j=u("div"),X=u("button"),X.textContent="?",me=b(),Y=u("div"),Q=u("button"),W=u("img"),ye=b(),K=u("div"),L=u("button"),se=u("img"),Ve=b(),Ee&&Ee.c(),De=b(),Oe=u("div");for(let P=0;P<ne.length;P+=1)ne[P].c();Fe=b(),xe=u("div"),pe=u("input"),je=b(),T=u("div"),we=u("button"),we.textContent="7",ot=b(),Te=u("button"),Te.textContent="8",at=b(),ke=u("button"),ke.textContent="9",ut=b(),ge=u("button"),ge.textContent="(",Xe=b(),Ie=u("button"),Ie.textContent=")",Le=b(),$=u("button"),$.textContent="C",Ue=b(),ee=u("button"),ee.textContent="4",C=b(),G=u("button"),G.textContent="5",I=b(),Se=u("button"),Se.textContent="6",zt=b(),Ge=u("button"),Ge.textContent="+",Ct=b(),Ze=u("button"),Ze.textContent="-",It=b(),Qe=u("button"),Qe.textContent="CE",Lt=b(),$e=u("button"),$e.textContent="1",Ut=b(),E=u("button"),E.textContent="2",ft=b(),be=u("button"),be.textContent="3",Re=b(),Me=u("button"),Me.textContent="*",St=b(),He=u("button"),He.textContent="/",Et=b(),We=u("button"),We.textContent="M",Nt=b(),et=u("button"),et.textContent="0",Rt=b(),mt=u("button"),mt.textContent=".",al=b(),pt=u("button"),pt.textContent="_",ul=b(),gt=u("button"),gt.textContent="^",fl=b(),bt=u("button"),bt.textContent=",",cl=b(),vt=u("button"),vt.textContent="=",dl=b(),Ne&&Ne.c(),_e(m.src,p=Js)||o(m,"src",p),o(m,"alt","Calculator Icon"),o(x,"class","title svelte-119a6z8"),_e(U.src,F=Zs)||o(U,"src",F),o(U,"alt","Donate"),o(N,"id","fundingbutton"),o(N,"class"," svelte-119a6z8"),o(Z,"class","spacer svelte-119a6z8"),o(X,"id","help"),o(X,"class","blend-bg svelte-119a6z8"),o(W,"class","svg-fg"),_e(W.src,le=Xs)||o(W,"src",le),o(W,"alt","Export and import"),o(Q,"id","exportbutton"),o(Q,"class","blend-bg svelte-119a6z8"),o(se,"class","svg-fg"),_e(se.src,J=zs)||o(se,"src",J),o(se,"alt","Settings"),o(L,"id","settings-button"),o(L,"class","blend-bg svelte-119a6z8"),o(y,"class","header svelte-119a6z8"),o(Oe,"class","history svelte-119a6z8"),o(pe,"type","text"),o(pe,"class","main-query svelte-119a6z8"),o(we,"tabindex","-1"),o(we,"class","svelte-119a6z8"),o(Te,"tabindex","-1"),o(Te,"class","svelte-119a6z8"),o(ke,"tabindex","-1"),o(ke,"class","svelte-119a6z8"),o(ge,"tabindex","-1"),o(ge,"class","svelte-119a6z8"),o(Ie,"tabindex","-1"),o(Ie,"class","svelte-119a6z8"),o($,"tabindex","-1"),o($,"class","svelte-119a6z8"),o(ee,"tabindex","-1"),o(ee,"class","svelte-119a6z8"),o(G,"tabindex","-1"),o(G,"class","svelte-119a6z8"),o(Se,"tabindex","-1"),o(Se,"class","svelte-119a6z8"),o(Ge,"tabindex","-1"),o(Ge,"class","svelte-119a6z8"),o(Ze,"tabindex","-1"),o(Ze,"class","svelte-119a6z8"),o(Qe,"tabindex","-1"),o(Qe,"class","svelte-119a6z8"),o($e,"tabindex","-1"),o($e,"class","svelte-119a6z8"),o(E,"tabindex","-1"),o(E,"class","svelte-119a6z8"),o(be,"tabindex","-1"),o(be,"class","svelte-119a6z8"),o(Me,"tabindex","-1"),o(Me,"class","svelte-119a6z8"),o(He,"tabindex","-1"),o(He,"class","svelte-119a6z8"),o(We,"tabindex","-1"),o(We,"class","svelte-119a6z8"),o(et,"tabindex","-1"),o(et,"class","svelte-119a6z8"),o(mt,"tabindex","-1"),o(mt,"class","svelte-119a6z8"),o(pt,"tabindex","-1"),o(pt,"class","svelte-119a6z8"),o(gt,"tabindex","-1"),o(gt,"class","svelte-119a6z8"),o(bt,"tabindex","-1"),o(bt,"class","svelte-119a6z8"),o(vt,"tabindex","-1"),o(vt,"class","svelte-119a6z8"),o(T,"class","keypad svelte-119a6z8"),o(xe,"class","input-section svelte-119a6z8"),Wt(_,"grid-template-rows","30pt 2fr 120pt "+(l[8]?"3fr":"20pt")),o(_,"class","svelte-119a6z8")},m(P,V){Ke(e,P,V),z(P,t,V),Ke(s,P,V),z(P,n,V),Ke(r,P,V),z(P,d,V),Ke(c,P,V),z(P,v,V),Ke(h,P,V),z(P,S,V),z(P,_,V),i(_,y),i(y,w),i(w,m),i(w,k),i(w,x),i(y,A),i(y,D),i(D,N),i(N,U),i(N,M),i(y,oe),i(y,Z),i(y,fe),i(y,j),i(j,X),i(y,me),i(y,Y),i(Y,Q),i(Q,W),i(y,ye),i(y,K),i(K,L),i(L,se),i(_,Ve),Ee&&Ee.m(_,null),i(_,De),i(_,Oe);for(let Pt=0;Pt<ne.length;Pt+=1)ne[Pt].m(Oe,null);l[43](Oe),i(_,Fe),i(_,xe),i(xe,pe),l[44](pe),ze(pe,l[1]),i(xe,je),i(xe,T),i(T,we),i(T,ot),i(T,Te),i(T,at),i(T,ke),i(T,ut),i(T,ge),i(T,Xe),i(T,Ie),i(T,Le),i(T,$),i(T,Ue),i(T,ee),i(T,C),i(T,G),i(T,I),i(T,Se),i(T,zt),i(T,Ge),i(T,Ct),i(T,Ze),i(T,It),i(T,Qe),i(T,Lt),i(T,$e),i(T,Ut),i(T,E),i(T,ft),i(T,be),i(T,Re),i(T,Me),i(T,St),i(T,He),i(T,Et),i(T,We),i(T,Nt),i(T,et),i(T,Rt),i(T,mt),i(T,al),i(T,pt),i(T,ul),i(T,gt),i(T,fl),i(T,bt),i(T,cl),i(T,vt),i(_,dl),Ne&&Ne.m(_,null),qt=!0,Ft||(hl=[O(N,"click",l[35]),O(X,"click",l[36]),O(Q,"click",l[37]),O(L,"click",l[38]),O(pe,"input",l[45]),O(pe,"keypress",l[16]),O(we,"click",l[46]),O(Te,"click",l[47]),O(ke,"click",l[48]),O(ge,"click",l[49]),O(Ie,"click",l[50]),O($,"click",l[20]),O(ee,"click",l[51]),O(G,"click",l[52]),O(Se,"click",l[53]),O(Ge,"click",l[54]),O(Ze,"click",l[55]),O(Qe,"click",l[21]),O($e,"click",l[56]),O(E,"click",l[57]),O(be,"click",l[58]),O(Me,"click",l[59]),O(He,"click",l[60]),O(We,"click",l[22]),O(et,"click",l[61]),O(mt,"click",l[62]),O(pt,"click",l[63]),O(gt,"click",l[64]),O(bt,"click",l[65]),O(vt,"click",l[18]),O(_,"keydown",l[17])],Ft=!0)},p(P,V){const Pt={};e.$set(Pt);const Yt={};V[0]&4&&(Yt.varset=P[2]),V[0]&512&&(Yt.qty=P[9]),s.$set(Yt);const Kt={};!a&&V[0]&1&&(a=!0,Kt.history=P[0],bl(()=>a=!1)),!g&&V[0]&4&&(g=!0,Kt.vars=P[2],bl(()=>g=!1)),r.$set(Kt);const us={};c.$set(us);const ml={};if(V[0]&4&&(ml.varset=P[2]),h.$set(ml),P[13]?Ee?Ee.p(P,V):(Ee=Ll(P),Ee.c(),Ee.m(_,De)):Ee&&(Ee.d(1),Ee=null),V[0]&33587337){ct=P[0];let ve;for(ve=0;ve<ct.length;ve+=1){const pl=Cl(P,ct,ve);ne[ve]?(ne[ve].p(pl,V),ce(ne[ve],1)):(ne[ve]=Hl(pl),ne[ve].c(),ce(ne[ve],1),ne[ve].m(Oe,null))}for(il(),ve=ct.length;ve<ne.length;ve+=1)as(ve);rl()}V[0]&2&&pe.value!==P[1]&&ze(pe,P[1]),P[8]?Ne?Ne.p(P,V):(Ne=Wl(P),Ne.c(),Ne.m(_,null)):Ne&&(Ne.d(1),Ne=null),(!qt||V[0]&256)&&Wt(_,"grid-template-rows","30pt 2fr 120pt "+(P[8]?"3fr":"20pt"))},i(P){if(!qt){ce(e.$$.fragment,P),ce(s.$$.fragment,P),ce(r.$$.fragment,P),ce(c.$$.fragment,P),ce(h.$$.fragment,P);for(let V=0;V<ct.length;V+=1)ce(ne[V]);qt=!0}},o(P){qe(e.$$.fragment,P),qe(s.$$.fragment,P),qe(r.$$.fragment,P),qe(c.$$.fragment,P),qe(h.$$.fragment,P),ne=ne.filter(Boolean);for(let V=0;V<ne.length;V+=1)qe(ne[V]);qt=!1},d(P){l[26](null),Je(e,P),P&&B(t),l[27](null),Je(s,P),P&&B(n),l[29](null),Je(r,P),P&&B(d),l[32](null),Je(c,P),P&&B(v),l[33](null),Je(h,P),P&&B(S),P&&B(_),Ee&&Ee.d(),Tt(ne,P),l[43](null),l[44](null),Ne&&Ne.d(),Ft=!1,Ce(hl)}}}function ln(l,e,t){let s=[],n="",r=ws(),a,g,d,c,v=0,h=!0,S=Pe.zero(),_=2;nl(()=>{try{let E=JSON.parse(localStorage.getItem("history"));Array.isArray(E)&&E.length>0&&"query"in E[0]&&"output"in E[0]&&(t(0,s=E),y=!0)}catch{}t(7,v=s.length);try{let E=parseFloat(localStorage.getItem("systemKeyboardAreaFlex"));t(10,_=E)}catch{}});let y=!1,w=!1,m=0;ps(()=>{y&&(y=!1,setTimeout(()=>g.scrollTo({top:g.scrollHeight}),1)),w&&(a.focus(),m!=-1&&a.setSelectionRange(m,m),w=!1)});function p(){s.length!==0&&(v<0&&t(7,v=0),v>=s.length&&t(7,v=s.length-1),t(1,n=s[v].query),m=s[v].query.length,w=!0)}function k(E){E.key=="Enter"?A():n===""&&["+","*","-","/","^"].indexOf(E.key)!==-1&&t(1,n="ans")}function x(E){E.code=="ArrowUp"?(E.preventDefault(),E.stopImmediatePropagation(),E.stopPropagation(),E.cancelBubble=!0,t(7,v--,v),p()):E.code=="ArrowDown"?(E.preventDefault(),E.stopImmediatePropagation(),E.stopPropagation(),E.cancelBubble=!0,t(7,v++,v),p()):E.code=="Escape"&&F()}function A(){try{if(n==="clear"){U();return}let be=n.indexOf("="),Re="";be!==-1&&(Re=n.substring(0,be).trim(),t(1,n=n.substring(be+1,n.length)));var E=n.split(",");E.length>2&&(E[1]=E.splice(1,E.length-1).join(" "));let Me,St="",He="",Et=[];try{if(Me=Pe.parse(E[0],r),t(9,S=Me),t(2,r.ans=Me,r),Re!="")if(Mt(Re)){let Nt=Es(Re),et=Nt.longNameSingular||"",Rt=Nt.longNamePlural||"";Et.push(`Can not overwrite built-in unit '${Re}' (${et}/${Rt})`),console.warn("built in overwrite attempt")}else t(2,r[Re]=Me,r),tl(r);let We=Me.prettyPrint(r,(E[1]||"")+" "+(R.prefUnits||""));St=st(We)}catch(We){He=We.message}var ft={query:n,output:St,error:He,warnings:[...Et,...Pe.getWarnings()]};s.push(ft),t(0,s),D(),y=!0,He===""&&t(1,n="")}catch(be){s.push({query:"",output:"",error:be.message+`
`+be.stack,warnings:[]}),y=!0}t(7,v=s.length),a.focus()}function D(){localStorage.setItem("history",JSON.stringify(s))}function N(E){let ft=a.selectionStart,be=n.substring(0,ft),Re=n.substring(a.selectionEnd,n.length);t(1,n=be+E+Re),m=ft+E.length,w=!0}function U(){t(0,s=[]),t(1,n=""),a.focus(),t(7,v=0)}function F(){t(1,n=""),a.focus()}function M(){c.show()}function oe(){t(0,s),t(2,r),D(),tl(r)}function Z(){localStorage.setItem("systemKeyboardAreaFlex",_.toString())}let fe,j,X=!1,me;function Y(E){me.show(E)}function Q(E){Be[E?"unshift":"push"](()=>{d=E,t(5,d)})}function W(E){Be[E?"unshift":"push"](()=>{c=E,t(6,c)})}const le=E=>N(E.detail);function ye(E){Be[E?"unshift":"push"](()=>{j=E,t(12,j)})}function K(E){s=E,t(0,s)}function L(E){r=E,t(2,r)}function se(E){Be[E?"unshift":"push"](()=>{fe=E,t(11,fe)})}function J(E){Be[E?"unshift":"push"](()=>{me=E,t(14,me)})}const Ve=E=>{N(st(E.detail.factor.toPrecision(R.precision))+E.detail.name)},De=()=>t(13,X=!X),Oe=()=>fe.toggleVisibility(),Fe=()=>j.toggleVisibility(),xe=()=>d.toggleVisibility(),pe=()=>t(13,X=!1),je=E=>{t(7,v=E),p()},T=E=>Y(E.output),we=()=>a.focus();function ot(E){Be[E?"unshift":"push"](()=>{g=E,t(4,g)})}function Te(E){Be[E?"unshift":"push"](()=>{a=E,t(3,a)})}function at(){n=this.value,t(1,n)}const ke=()=>N("7"),ut=()=>N("8"),ge=()=>N("9"),Xe=()=>N("("),Ie=()=>N(")"),Le=()=>N("4"),$=()=>N("5"),Ue=()=>N("6"),ee=()=>N("+"),C=()=>N("-"),G=()=>N("1"),I=()=>N("2"),Se=()=>N("3"),zt=()=>N("*"),Ge=()=>N("/"),Ct=()=>N("0"),Ze=()=>N("."),It=()=>N("_"),Qe=()=>N("^"),Lt=()=>N(","),$e=()=>t(8,h=!1);function Ut(){_=ll(this.value),t(10,_)}return[s,n,r,a,g,d,c,v,h,S,_,fe,j,X,me,p,k,x,A,N,U,F,M,oe,Z,Y,Q,W,le,ye,K,L,se,J,Ve,De,Oe,Fe,xe,pe,je,T,we,ot,Te,at,ke,ut,ge,Xe,Ie,Le,$,Ue,ee,C,G,I,Se,zt,Ge,Ct,Ze,It,Qe,Lt,$e,Ut]}class sn extends rt{constructor(e){super(),it(this,e,ln,tn,nt,{},null,[-1,-1,-1])}}new sn({target:document.getElementById("app")});
